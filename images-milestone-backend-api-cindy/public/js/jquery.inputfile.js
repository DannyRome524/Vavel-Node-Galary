!function(e){"use strict";function t(t){var a=e(t.currentTarget),n=a.parents("."+o),r=n.find("."+d),i=r.find("a"),s=n.find('input[type="checkbox"]');r.show(),s.attr("disabled","disabled"),r.removeClass(l),i.attr("href","#"),i.html(a.val()),i.on("click",function(){return!1})}function a(t){var a=e(t.currentTarget),n=a.parents("."+o),r=n.find('input[type="file"]'),i=a.parent(),d=i.find("a"),s=n.find('input[type="checkbox"]');return r.attr("data-value")?i.hasClass(l)?(s.removeAttr("checked"),s.attr("disabled","disabled"),i.removeClass(l)):d.attr("href")!==r.attr("data-value")?(d.attr("href",r.attr("data-value")),d.html(r.attr("data-text"))):(s.attr("checked","checked"),s.removeAttr("disabled"),i.addClass(l)):(i.hide(),i.addClass(l),s.removeAttr("disabled","disabled"),d.html(""),r.replaceWith(r.clone(!0))),!1}function n(n){this.each(function(){var r,l,c,p,v,f,h,m,b=e(this),x=b.data("value"),T=b.data("text"),C=e.extend({},b.inputfile.config,n);b.wrap('<div class="'+o+'"><div class="'+i+'"></div></div>'),r=b.parent(),l=r.parent(),c=e('<div class="'+d+'"></div>').prependTo(l),p=e('<a href="#" class="'+s+'" target="_blank"></a>').appendTo(c),n.dontRemove||(v=e('<button class="'+u+" "+C.removeButtonClass+'"></button>').appendTo(c),v.append(e(C.removeText).addClass("remove-icon")),v.append(e(C.restoreText).addClass("restore-icon")),f=C.removeName||b.attr("name"),h=e('<input type="checkbox" name="'+f+'" value="'+C.removeValue+'" disabled/>'),h.hide().appendTo(v)),x?(p.attr("href",x),p.html(T||x)):c.hide(),m=e('<button class="'+C.uploadButtonClass+'">'+C.uploadText+"</button>").insertBefore(b),b.on("change",t),v&&v.on("click",a)})}var r={},o="inputfile",i="upload-button",d="previous-file",l="deleted",s="upload-button-link",u="upload-button-remove";e.fn.inputfile=function(t){return r[t]?r[t].apply(e(this),Array.prototype.slice.call(arguments,1)):!t||t&&t.constructor===Object?n.apply(this,arguments):void 0},e.fn.inputfile.config={uploadText:'<i class="icon-upload"></i> Upload file',removeText:'<i class="icon-trash"></i>',restoreText:'<i class="icon-undo"></i>',uploadButtonClass:"btn",removeButtonClass:"btn",removeName:"",removeValue:1,dontRemove:!1}}(jQuery);